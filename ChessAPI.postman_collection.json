{
  "info": {
    "_postman_id": "chess-api-full-collection",
    "name": "Chess API (Full)",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": "–ü–æ–ª–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —à–∞—Ö–º–∞—Ç —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π"
  },
  "item": [
    {
      "name": "üü¢ Authentication",
      "item": [
        {
          "name": "‚úÖ Register Player 1",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"player1_test\",\n  \"email\": \"player1@test.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": "{{baseUrl}}/api/auth/register",
            "description": "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–µ—Ä–≤–æ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞"
          },
          "response": []
        },
        {
          "name": "‚úÖ Register Player 2",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"player2_test\",\n  \"email\": \"player2@test.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": "{{baseUrl}}/api/auth/register",
            "description": "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤—Ç–æ—Ä–æ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞"
          },
          "response": []
        },
        {
          "name": "‚úÖ Login Player 1",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"player1_test\",\n  \"password\": \"password123\"\n}"
            },
            "url": "{{baseUrl}}/api/auth/login",
            "description": "–í—Ö–æ–¥ –ø–µ—Ä–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞"
          },
          "response": []
        },
        {
          "name": "‚úÖ Login Player 2",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"player2_test\",\n  \"password\": \"password123\"\n}"
            },
            "url": "{{baseUrl}}/api/auth/login",
            "description": "–í—Ö–æ–¥ –≤—Ç–æ—Ä–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞"
          },
          "response": []
        }
      ]
    },
    {
      "name": "üë• Players",
      "item": [
        {
          "name": "üìã Get All Players",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player1Token}}"
              }
            ],
            "url": "{{baseUrl}}/api/players",
            "description": "–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤"
          },
          "response": []
        },
        {
          "name": "üèÜ Get Top Players",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player1Token}}"
              }
            ],
            "url": "{{baseUrl}}/api/players/top?gameType=BLITZ&limit=10",
            "description": "–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–ø–∞ –∏–≥—Ä–æ–∫–æ–≤ –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É"
          },
          "response": []
        },
        {
          "name": "üß™ Create Test Player",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/players/test",
            "description": "–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞ (–±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "üéÆ Games",
      "item": [
        {
          "name": "üÜï Create Game",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player1Token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"gameType\": \"BLITZ\",\n  \"isPublic\": true\n}"
            },
            "url": "{{baseUrl}}/api/games",
            "description": "–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —à–∞—Ö–º–∞—Ç–Ω–æ–π –∏–≥—Ä—ã"
          },
          "response": []
        },
        {
          "name": "üìã Get All Games",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player1Token}}"
              }
            ],
            "url": "{{baseUrl}}/api/games",
            "description": "–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∏–≥—Ä"
          },
          "response": []
        },
        {
          "name": "üîç Get Game by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player1Token}}"
              }
            ],
            "url": "{{baseUrl}}/api/games/{{gameId}}",
            "description": "–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∏–≥—Ä–µ –ø–æ ID"
          },
          "response": []
        },
        {
          "name": "üéØ Get Active Games",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player1Token}}"
              }
            ],
            "url": "{{baseUrl}}/api/games/active",
            "description": "–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
          },
          "response": []
        },
        {
          "name": "‚è≥ Get Waiting Games",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player1Token}}"
              }
            ],
            "url": "{{baseUrl}}/api/games/waiting",
            "description": "–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∏–≥—Ä, –æ–∂–∏–¥–∞—é—â–∏—Ö –≤—Ç–æ—Ä–æ–≥–æ –∏–≥—Ä–æ–∫–∞"
          },
          "response": []
        },
        {
          "name": "üìú Get Game History",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player1Token}}"
              }
            ],
            "url": "{{baseUrl}}/api/games/history?limit=10",
            "description": "–ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∏–≥—Ä —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
          },
          "response": []
        },
        {
          "name": "ü§ù Join Game",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player2Token}}"
              }
            ],
            "url": "{{baseUrl}}/api/games/{{gameId}}/join",
            "description": "–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∏–≥—Ä–µ"
          },
          "response": []
        },
        {
          "name": "üèÉ Make Move",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player1Token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"from\": \"e2\",\n  \"to\": \"e4\"\n}"
            },
            "url": "{{baseUrl}}/api/games/{{gameId}}/move",
            "description": "–°–æ–≤–µ—Ä—à–µ–Ω–∏–µ —Ö–æ–¥–∞ –≤ –∏–≥—Ä–µ"
          },
          "response": []
        },
        {
          "name": "üìù Get Game Moves",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player1Token}}"
              }
            ],
            "url": "{{baseUrl}}/api/games/{{gameId}}/moves",
            "description": "–ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Ö–æ–¥–æ–≤ –∏–≥—Ä—ã"
          },
          "response": []
        },
        {
          "name": "‚öñÔ∏è Get Legal Moves",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player1Token}}"
              }
            ],
            "url": "{{baseUrl}}/api/games/{{gameId}}/legal-moves?square=e2",
            "description": "–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ª–µ–≥–∞–ª—å–Ω—ã—Ö —Ö–æ–¥–æ–≤ –¥–ª—è —Ñ–∏–≥—É—Ä—ã"
          },
          "response": []
        },
        {
          "name": "‚è∞ Get Time Left",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player1Token}}"
              }
            ],
            "url": "{{baseUrl}}/api/games/{{gameId}}/time-left",
            "description": "–ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Å—Ç–∞–≤—à–µ–≥–æ—Å—è –≤—Ä–µ–º–µ–Ω–∏ —É –∏–≥—Ä–æ–∫–æ–≤"
          },
          "response": []
        },
        {
          "name": "üè≥Ô∏è Resign Game",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player1Token}}"
              }
            ],
            "url": "{{baseUrl}}/api/games/{{gameId}}/resign",
            "description": "–°–¥–∞—á–∞ –≤ –∏–≥—Ä–µ"
          },
          "response": []
        },
        {
          "name": "ü§ù Offer Draw",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player1Token}}"
              }
            ],
            "url": "{{baseUrl}}/api/games/{{gameId}}/draw-offer",
            "description": "–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –Ω–∏—á—å–µ–π"
          },
          "response": []
        },
        {
          "name": "‚úÖ Accept Draw",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player2Token}}"
              }
            ],
            "url": "{{baseUrl}}/api/games/{{gameId}}/draw-accept",
            "description": "–ü—Ä–∏–Ω—è—Ç–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –Ω–∏—á—å–µ–π"
          },
          "response": []
        },
        {
          "name": "‚è∏Ô∏è Pause Game",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player1Token}}"
              }
            ],
            "url": "{{baseUrl}}/api/games/{{gameId}}/pause",
            "description": "–ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–≥—Ä—ã"
          },
          "response": []
        },
        {
          "name": "‚ñ∂Ô∏è Resume Game",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player1Token}}"
              }
            ],
            "url": "{{baseUrl}}/api/games/{{gameId}}/resume",
            "description": "–í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–≥—Ä—ã"
          },
          "response": []
        }
      ]
    },
    {
      "name": "üì® Game Invites",
      "item": [
        {
          "name": "üì§ Send Invite",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player1Token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"playerId\": {{player2Id}},\n  \"gameType\": \"BLITZ\"\n}"
            },
            "url": "{{baseUrl}}/api/games/invite",
            "description": "–û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –Ω–∞ –∏–≥—Ä—É (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç GameInviteDTO)"
          },
          "response": []
        },
        {
          "name": "üì• Get Received Invites",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player2Token}}"
              }
            ],
            "url": "{{baseUrl}}/api/games/invites",
            "description": "–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π"
          },
          "response": []
        },
        {
          "name": "üì§ Get Sent Invites",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player1Token}}"
              }
            ],
            "url": "{{baseUrl}}/api/games/invites/sent",
            "description": "–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π"
          },
          "response": []
        },
        {
          "name": "‚úÖ Accept Invite",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player2Token}}"
              }
            ],
            "url": "{{baseUrl}}/api/games/invites/{{inviteId}}/accept",
            "description": "–ü—Ä–∏–Ω—è—Ç–∏–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –Ω–∞ –∏–≥—Ä—É (—Å–æ–∑–¥–∞–µ—Ç –∏–≥—Ä—É)"
          },
          "response": []
        },
        {
          "name": "‚ùå Reject Invite",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player2Token}}"
              }
            ],
            "url": "{{baseUrl}}/api/games/invites/{{inviteId}}/reject",
            "description": "–û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –Ω–∞ –∏–≥—Ä—É"
          },
          "response": []
        },
        {
          "name": "üóëÔ∏è Cancel Invite",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player1Token}}"
              }
            ],
            "url": "{{baseUrl}}/api/games/invites/{{inviteId}}",
            "description": "–û—Ç–º–µ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è"
          },
          "response": []
        }
      ]
    },
    {
      "name": "üîÑ Complete Game Flow (Test Scenario)",
      "item": [
        {
          "name": "1Ô∏è‚É£ Setup Players & Get IDs",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–∫–µ–Ω—ã –∏ ID –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è",
                  "if (pm.response.code === 200) {",
                  "  const jsonData = pm.response.json();",
                  "  if (jsonData.success) {",
                  "    const token = jsonData.data.token;",
                  "    const playerId = jsonData.data.id || jsonData.data.player?.id;",
                  "    const username = pm.request.body.raw ? JSON.parse(pm.request.body.raw).username : '';",
                  "    ",
                  "    if (username.includes('player1')) {",
                  "      pm.environment.set('player1Token', token);",
                  "      if (playerId) pm.environment.set('player1Id', playerId);",
                  "      console.log('Player 1 token saved:', token);",
                  "    } else if (username.includes('player2')) {",
                  "      pm.environment.set('player2Token', token);",
                  "      if (playerId) pm.environment.set('player2Id', playerId);",
                  "      console.log('Player 2 token saved:', token);",
                  "    }",
                  "  }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"test_player_1\",\n  \"email\": \"test1@example.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": "{{baseUrl}}/api/auth/register"
          },
          "response": []
        },
        {
          "name": "2Ô∏è‚É£ Create Game via Invite System",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// –°–æ—Ö—Ä–∞–Ω—è–µ–º ID –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è",
                  "if (pm.response.code === 200) {",
                  "  const jsonData = pm.response.json();",
                  "  if (jsonData.success) {",
                  "    const inviteId = jsonData.data.id;",
                  "    pm.environment.set('inviteId', inviteId);",
                  "    console.log('Invite ID saved:', inviteId);",
                  "  }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player1Token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"playerId\": {{player2Id}},\n  \"gameType\": \"BLITZ\"\n}"
            },
            "url": "{{baseUrl}}/api/games/invite"
          },
          "response": []
        },
        {
          "name": "3Ô∏è‚É£ Check Received Invites",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player2Token}}"
              }
            ],
            "url": "{{baseUrl}}/api/games/invites"
          },
          "response": []
        },
        {
          "name": "4Ô∏è‚É£ Accept Invite & Create Game",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// –°–æ—Ö—Ä–∞–Ω—è–µ–º ID —Å–æ–∑–¥–∞–Ω–Ω–æ–π –∏–≥—Ä—ã",
                  "if (pm.response.code === 200) {",
                  "  const jsonData = pm.response.json();",
                  "  if (jsonData.success) {",
                  "    const gameId = jsonData.data.id;",
                  "    pm.environment.set('gameId', gameId);",
                  "    console.log('Game ID saved:', gameId);",
                  "  }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player2Token}}"
              }
            ],
            "url": "{{baseUrl}}/api/games/invites/{{inviteId}}/accept"
          },
          "response": []
        },
        {
          "name": "5Ô∏è‚É£ Make First Move",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player1Token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"from\": \"e2\",\n  \"to\": \"e4\"\n}"
            },
            "url": "{{baseUrl}}/api/games/{{gameId}}/move"
          },
          "response": []
        },
        {
          "name": "6Ô∏è‚É£ Get Game State",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{player1Token}}"
              }
            ],
            "url": "{{baseUrl}}/api/games/{{gameId}}"
          },
          "response": []
        }
      ]
    },
    {
      "name": "‚ö° WebSocket Tests",
      "item": [
        {
          "name": "üîÑ Connect to WebSocket",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// WebSocket —Ç–µ—Å—Ç—ã - –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è",
                  "console.log('WebSocket endpoint: ' + pm.environment.get('baseUrl').replace('http', 'ws') + '/chess-websocket');"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/chess-websocket",
            "description": "–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ WebSocket endpoint"
          },
          "response": []
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080",
      "type": "string"
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    }
  ]
}